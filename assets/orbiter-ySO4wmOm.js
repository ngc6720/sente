var p=(t,n,s)=>{if(!n.has(t))throw TypeError("Cannot "+s)};var l=(t,n,s)=>{p(t,n,"read from private field");return s?s.call(t):n.get(t)};var f=(t,n,s)=>{if(n.has(t))throw TypeError("Cannot add the same private member more than once");n instanceof WeakSet?n.add(t):n.set(t,s)};var M=(t,n,s,m)=>{p(t,n,"write to private field");m?m.call(t,s):n.set(t,s);return s};(function(){"use strict";var v,V,h,d,c;function t(u,e){return[u*Math.cos(e),u*Math.sin(e)]}function n(u,e=0,a=1){return((u-e)%(a-e)+(a-e))%(a-e)+e}function s(u=44100){let e=Math.random();return{i:(a=0)=>{e+=a/u;e=n(e,0,1)},o:()=>e}}function m(u=44100){let e=Math.random();let a=0;return{i:(i=0)=>{e+=i/u;e=n(e,0,1);a=Math.sin(Math.PI*2*e)??0},o:()=>a}}function x(u){var e=[];for(var i=0;i<u;i++){e.push(i)}var a=[];var i=Math.ceil(e.length/2);var o=i-1;while(o>=0){a.push(e[o--]);if(i<e.length)a.push(e[i++])}return new Uint8Array(a)}function D(u){const e=[];for(let a=1;a<=u;a++){e[a]=x(a)}return e}class b extends AudioWorkletProcessor{constructor(a){super();f(this,v,8);f(this,V,void 0);f(this,h,void 0);f(this,d,void 0);f(this,c,void 0);M(this,h,[]);M(this,d,m(sampleRate));M(this,c,[]);for(let i=0;i<l(this,v);i++){l(this,h)[i]=s(sampleRate);l(this,c)[i]=m(sampleRate)}M(this,V,D(l(this,v)))}static get parameterDescriptors(){return[{name:"voices",defaultValue:1,minValue:1,maxValue:8},{name:"detune",defaultValue:1,minValue:0,maxValue:1},{name:"radius",defaultValue:0,minValue:0,maxValue:4},{name:"radiusDeviationF",defaultValue:0,minValue:0,maxValue:2e3},{name:"radiusDeviationQt",defaultValue:0,minValue:0,maxValue:4},{name:"orbit",defaultValue:0,minValue:0,maxValue:12e3},{name:"orbitDeviationF",defaultValue:0,minValue:0,maxValue:2e3},{name:"orbitDeviationQt",defaultValue:0,minValue:0,maxValue:800},{name:"edges",defaultValue:0,minValue:0,maxValue:3}]}process(a,i,o){for(let r=0;r<i[0].length;r++){for(let g=0;g<i[0][0].length;g++){if(r<o.voices[0]){let[P,w]=t(o.radius[0]+l(this,c)[r].o()*o.radiusDeviationQt[0],l(this,h)[r].o()*Math.PI*2);i[0][l(this,V)[o.voices[0]][r]][g]=P;i[1][l(this,V)[o.voices[0]][r]][g]=w}if(r<1)l(this,d).i(o.orbitDeviationF[0]);l(this,h)[r].i((o.orbit[0]+l(this,d).o()*o.orbitDeviationQt[0])*Math.pow(2,(r-(o.voices[0]-1)/2)*o.detune[0]/12));l(this,c)[r].i(o.radiusDeviationF[0])}}return true}}v=new WeakMap;V=new WeakMap;h=new WeakMap;d=new WeakMap;c=new WeakMap;registerProcessor("modulator",b)})();
